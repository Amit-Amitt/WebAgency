<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Panel - Web Agency</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <style>
    body { background: #f8f9fa; }
    .sidebar {
      height: 100vh;
      background: #212529;
      color: white;
      padding: 20px;
      position: fixed;
      width: 220px;
    }
    .sidebar a {
      color: white;
      display: block;
      padding: 10px;
      margin-bottom: 8px;
      text-decoration: none;
      border-radius: 6px;
    }
    .sidebar a:hover { background: #343a40; }
    .content { margin-left: 240px; padding: 20px; }
  </style>
</head>
<body>

<!-- SIDEBAR -->
<div class="sidebar">
  <h3 class="text-center mb-4">Admin Panel</h3>
  <a href="#" onclick="showPage('dashboard')">ğŸ“Š Dashboard</a>
  <a href="#" onclick="showPage('services')">ğŸ›  Services</a>
  <a href="#" onclick="showPage('portfolio')">ğŸ“ Portfolio</a>
  <a href="#" onclick="showPage('users')">ğŸ‘¤ Users</a>
  <a href="#" onclick="showPage('messages')">ğŸ“© Messages</a>
  <a href="#" onclick="showPage('settings')">âš™ Settings</a>
</div>

<!-- MAIN CONTENT -->
<div class="content">

  <!-- DASHBOARD -->
  <div id="dashboard" class="page">
    <h2>ğŸ“Š Dashboard Overview</h2>
    <div class="row mt-4">
      <div class="col-md-3"><div class="card p-3 bg-primary text-white">Projects: <b id="projectCount">0</b></div></div>
      <div class="col-md-3"><div class="card p-3 bg-success  text-white">Services: <b id="serviceCount">0</b></div></div>
      <div class="col-md-3"><div class="card p-3 bg-warning text-dark">Users: <b id="userCount">0</b></div></div>
      <div class="col-md-3"><div class="card p-3 bg-danger  text-white">Messages: <b id="messageCount">0</b></div></div>
    </div>
  </div>

  <!-- SERVICES -->
  <div id="services" class="page" style="display:none;">
    <h2>ğŸ›  Manage Services</h2>
    <button class="btn btn-primary mb-3" onclick="addService()">+ Add Service</button>
    <table class="table table-bordered">
      <thead><tr><th>ID</th><th>Service Name</th><th>Action</th></tr></thead>
      <tbody id="serviceTable"></tbody>
    </table>
  </div>

  <!-- PORTFOLIO -->
  <div id="portfolio" class="page" style="display:none;">
    <h2>ğŸ“ Manage Portfolio</h2>
    <button class="btn btn-primary mb-3" onclick="addProject()">+ Add Project</button>
    <table class="table table-bordered">
      <thead><tr><th>ID</th><th>Project Title</th><th>Action</th></tr></thead>
      <tbody id="projectTable"></tbody>
    </table>
  </div>

  <!-- USERS -->
  <div id="users" class="page" style="display:none;">
    <h2>ğŸ‘¤ Registered Users</h2>
    <table class="table table-bordered">
      <thead><tr><th>ID</th><th>Name</th><th>Email</th></tr></thead>
      <tbody id="userTable"></tbody>
    </table>
  </div>

  <!-- MESSAGES -->
  <div id="messages" class="page" style="display:none;">
    <h2>ğŸ“© Contact Messages</h2>
    <table class="table table-bordered">
      <thead><tr><th>ID</th><th>Name</th><th>Message</th></tr></thead>
      <tbody id="messageTable"></tbody>
    </table>
  </div>

  <!-- SETTINGS -->
  <div id="settings" class="page" style="display:none;">
    <h2>âš™ Website Settings</h2>
    <label>Homepage Title:</label>
    <input id="homeTitle" class="form-control mb-2" placeholder="Enter Title">
    <label>Homepage Description:</label>
    <textarea id="homeDesc" class="form-control mb-2" placeholder="Enter Description"></textarea>
    <button class="btn btn-success" onclick="saveSettings()">Save</button>
  </div>

</div>

<script>
// ----- DATA FROM LOCALSTORAGE -----
let services   = JSON.parse(localStorage.getItem("services")   || "[]");
let projects   = JSON.parse(localStorage.getItem("projects")   || "[]");
let users      = JSON.parse(localStorage.getItem("users")      || "[]");
let messages   = JSON.parse(localStorage.getItem("messages")   || "[]");
let settings   = JSON.parse(localStorage.getItem("settings")   || "{}");

// ----- SHOW PAGE -----
function showPage(pageId) {
  document.querySelectorAll('.page').forEach(p => p.style.display = 'none');
  document.getElementById(pageId).style.display = 'block';
  loadTables();
}

// ----- LOAD TABLES -----
function loadTables() {
  document.getElementById("serviceCount").innerText = services.length;
  document.getElementById("projectCount").innerText = projects.length;
  document.getElementById("userCount").innerText    = users.length;
  document.getElementById("messageCount").innerText = messages.length;

  document.getElementById("serviceTable").innerHTML = services.map((s, i) =>
    `<tr><td>${i+1}</td><td>${s}</td><td><button class='btn btn-danger btn-sm' onclick='delService(${i})'>Delete</button></td></tr>`).join("");

  document.getElementById("projectTable").innerHTML = projects.map((p, i) =>
    `<tr><td>${i+1}</td><td>${p}</td><td><button class='btn btn-danger btn-sm' onclick='delProject(${i})'>Delete</button></td></tr>`).join("");

  document.getElementById("userTable").innerHTML = users.map((u, i) =>
    `<tr><td>${i+1}</td><td>${u.name}</td><td>${u.email}</td></tr>`).join("");

  document.getElementById("messageTable").innerHTML = messages.map((m, i) =>
    `<tr><td>${i+1}</td><td>${m.name}</td><td>${m.msg}</td></tr>`).join("");
}

// ----- ADD / DELETE FUNCTIONS -----
function addService(){
  let name = prompt("Enter service name:");
  if(name) { services.push(name); save("services", services); loadTables(); }
}
function delService(i){ services.splice(i,1); save("services", services); loadTables(); }

function addProject(){
  let name = prompt("Enter project title:");
  if(name) { projects.push(name); save("projects", projects); loadTables(); }
}
function delProject(i){ projects.splice(i,1); save("projects", projects); loadTables(); }

// ----- SAVE SETTINGS -----
function saveSettings(){
  settings.homeTitle = document.getElementById("homeTitle").value;
  settings.homeDesc = document.getElementById("homeDesc").value;
  save("settings", settings);
  alert("Settings Saved!");
}

// ----- SAVE JSON IN LOCALSTORAGE -----
function save(key, data){
  localStorage.setItem(key, JSON.stringify(data));
}

// LOAD INITIAL DATA
loadTables();

</script>
</body>
</html>
